This data archive contains the scripts used to generate and analyze all the data in the accompanying manuscript (May et al., in review), as well as the simulated data that were analyzed for that work. The archive is broken into five subdirectores, each corresponding to one set of simulations/analyses performed in the manuscript. The descriptions of each subdirectory follow. 

WARNING: these analyses are computationally expensive and very time consuming; we do not recommend recreating them on your personal computer!

Simulation 1
============
These simulations correspond to the 'false positive rate' simulations performed WITHOUT shifts in background rates of speciation and extinction.

The /data directory contains the trees we simulated and analyzed in the paper.

The /make_scripts directory contains the scripts used to simulated the data, and to automatically generate scripts to analyze the data under all of the prior settings used. To re-simulate the data, modify the 'dir' variable in the simulation_1_make_trees.R script to point to the simulation_1 directory in the data archive, and then run the entire script. Be careful; re-simulating these trees will overwrite the trees we analyzed in our study! 

To generate bash scripts that can be used to perform the analyses, modify the 'dir' variable in the simulation_1_make_trees.R script as above, and the 'num_cores' variable to the number of cores you would like to use to perform the analyses, and then run the entire script. This will generate a number (256) of job_x.sh scripts in the run_scripts directory. Each job_x.sh script corresponds to one combination of tree size and prior settings. Running job_x.sh in the shell will perform all analyses for all 100 trees for those settings. 

The /output directory contains the outputs generated by the job_x.sh scripts, though it is currently empty (this directory will be populated when you run the job_x.sh scripts).

Simulation 2
============
These simulations correspond to the 'false positive rate' simulations performed WITH shifts in background rates of speciation and extinction.

The /data directory contains the trees we simulated and analyzed in the paper.

The /make_scripts directory contains the scripts used to simulated the data, and to automatically generate scripts to analyze the data under all of the prior settings used. To re-simulate the data, modify the 'dir' variable in the simulation_2_make_trees.R script to point to the simulation_2 directory in the data archive, and then run the entire script. Be careful; re-simulating these trees will overwrite the trees we analyzed in our study!

To generate bash scripts that can be used to perform the analyses, modify the 'dir' variable in the simulation_2_make_trees.R script as above, and the 'num_cores' variable to the number of cores you would like to use to perform the analyses, and then run the entire script. This will generate a number (256) of job_x.sh scripts in the run_scripts directory. Each job_x.sh script corresponds to one combination of tree size and prior settings. Running job_x.sh in the shell will perform all analyses for all 100 trees for those settings. 

The /output directory contains the outputs generated by the job_x.sh scripts, though it is currently empty (this directory will be populated when you run the job_x.sh scripts).

Simulation 3
============
These simulations correspond to the 'power' and 'bias' simulations performed WITHOUT shifts in background rates of speciation and extinction.

The /data directory contains the trees we simulated and analyzed in the paper.

The /make_scripts directory contains the scripts used to simulated the data, and to automatically generate scripts to analyze the data under all of the prior settings used. To re-simulate the data, modify the 'dir' variable in the simulation_3_make_trees.R script to point to the simulation_3 directory in the data archive, and then run the entire script. Be careful; re-simulating these trees will overwrite the trees we analyzed in our study!

To generate bash scripts that can be used to perform the analyses, modify the 'dir' variable in the simulation_3_make_trees.R script as above, and the 'num_cores' variable to the number of cores you would like to use to perform the analyses, and then run the entire script. This will generate a number (256) of job_x.sh scripts in the run_scripts directory. Each job_x.sh script corresponds to one combination of tree size and prior settings. Running job_x.sh in the shell will perform all analyses for all 100 trees for those settings. 

The /output directory contains the outputs generated by the job_x.sh scripts, though it is currently empty (this directory will be populated when you run the job_x.sh scripts).

Simulation 4
============
These simulations correspond to the 'power' and 'bias' simulations performed WITH shifts in background rates of speciation and extinction.

The /data directory contains the trees we simulated and analyzed in the paper.

The /make_scripts directory contains the scripts used to simulated the data, and to automatically generate scripts to analyze the data under all of the prior settings used. To re-simulate the data, modify the 'dir' variable in the simulation_4_make_trees.R script to point to the simulation_4 directory in the data archive, and then run the entire script. Be careful; re-simulating these trees will overwrite the trees we analyzed in our study!

To generate bash scripts that can be used to perform the analyses, modify the 'dir' variable in the simulation_4_make_trees.R script as above, and the 'num_cores' variable to the number of cores you would like to use to perform the analyses, and then run the entire script. This will generate a number (256) of job_x.sh scripts in the run_scripts directory. Each job_x.sh script corresponds to one combination of tree size and prior settings. Running job_x.sh in the shell will perform all analyses for all 100 trees for those settings. 

The /output directory contains the outputs generated by the job_x.sh scripts, though it is currently empty (this directory will be populated when you run the job_x.sh scripts).

Simulation 5
============
These simulations correspond to the 'effect of multiple mass extinctions' simulations we performed.

The /data directory contains the trees we simulated and analyzed in the paper.

The /make_scripts directory contains the scripts used to simulated the data, and to automatically generate scripts to analyze the data under all of the prior settings used. To re-simulate the data, modify the 'dir' variable in the simulation_5_make_trees.R script to point to the simulation_5 directory in the data archive, and then run the entire script. Be careful; re-simulating these trees will overwrite the trees we analyzed in our study!

To generate bash scripts that can be used to perform the analyses, modify the 'dir' variable in the simulation_5_make_trees.R script as above, and the 'num_cores' variable to the number of cores you would like to use to perform the analyses, and then run the entire script. This will generate a number (16) of job_x.sh scripts in the run_scripts directory. Each job_x.sh script corresponds to one combination of tree size and prior settings. Running job_x.sh in the shell will perform all analyses for all 100 trees for those settings. 

The /output directory contains the outputs generated by the job_x.sh scripts, though it is currently empty (this directory will be populated when you run the job_x.sh scripts).

Conifers empirical analysis
===========================
These runs correspond to the empirical analysis component of the manuscript.

The /data directory contains the conifer tree.

The /run_scripts directory contains the script used to analyze the conifer tree under all the settings we used. To regenerate our analyses, modify the 'dir' variable in the conifer_run_analyses.R script to point to the conifers_empirical_analysis directory in the data archive, and the 'num_cores' variable to the number of cores you would like to use the perform these analyses, and then run the script in terminal using Rscript <path to script>/conifer_run_analyses.R.

The /output directory contains the outputs generated by the above script, though it is currently empty (this directory will be populated when you run the above script).









